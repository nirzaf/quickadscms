!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.jquery_mmenu_js=e(t.jQuery)}(this,function(t){var e,n,i,s,a,o,r,l,d,c,h,f,p,u,v,g,m,_;return function(t){var e,n,i,s,a,o="mmenu",r="6.1.8";t[o]&&t[o].version>r||(t[o]=function(t,e,n){return this.$menu=t,this._api=["bind","getInstance","initPanels","openPanel","closePanel","closeAllPanels","setSelected"],this.opts=e,this.conf=n,this.vars={},this.cbck={},this.mtch={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initAddons(),this._initExtensions(),this._initMenu(),this._initPanels(),this._initOpened(),this._initAnchors(),this._initMatchMedia(),"function"==typeof this.___debug&&this.___debug(),this},t[o].version=r,t[o].addons={},t[o].uniqueId=0,t[o].defaults={extensions:[],initMenu:function(){},initPanels:function(){},navbar:{add:!0,title:"Menu",titleLink:"parent"},onClick:{setSelected:!0},slidingSubmenus:!0},t[o].configuration={classNames:{divider:"Divider",inset:"Inset",nolistview:"NoListview",nopanel:"NoPanel",panel:"Panel",selected:"Selected",spacer:"Spacer",vertical:"Vertical"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},t[o].prototype={getInstance:function(){return this},initPanels:function(t){this._initPanels(t)},openPanel:function(i,s){if(this.trigger("openPanel:before",i),i&&i.length&&(i.is("."+e.panel)||(i=i.closest("."+e.panel)),i.is("."+e.panel))){var a=this;if("boolean"!=typeof s&&(s=!0),i.hasClass(e.vertical))i.add(i.parents("."+e.vertical)).removeClass(e.hidden).parent("li").addClass(e.opened),this.openPanel(i.parents("."+e.panel).not("."+e.vertical).first()),this.trigger("openPanel:start",i),this.trigger("openPanel:finish",i);else{if(i.hasClass(e.opened))return;var r=this.$pnls.children("."+e.panel),l=r.filter("."+e.opened);if(!t[o].support.csstransitions)return l.addClass(e.hidden).removeClass(e.opened),i.removeClass(e.hidden).addClass(e.opened),this.trigger("openPanel:start",i),void this.trigger("openPanel:finish",i);r.not(i).removeClass(e.subopened);for(var d=i.data(n.parent);d;)d=d.closest("."+e.panel),d.is("."+e.vertical)||d.addClass(e.subopened),d=d.data(n.parent);r.removeClass(e.highest).not(l).not(i).addClass(e.hidden),i.removeClass(e.hidden),this.openPanelStart=function(){l.removeClass(e.opened),i.addClass(e.opened),i.hasClass(e.subopened)?(l.addClass(e.highest),i.removeClass(e.subopened)):(l.addClass(e.subopened),i.addClass(e.highest)),this.trigger("openPanel:start",i)},this.openPanelFinish=function(){l.removeClass(e.highest).addClass(e.hidden),i.removeClass(e.highest),this.trigger("openPanel:finish",i)},s&&!i.hasClass(e.noanimation)?setTimeout(function(){a.__transitionend(i,function(){a.openPanelFinish.call(a)},a.conf.transitionDuration),a.openPanelStart.call(a)},a.conf.openingInterval):(this.openPanelStart.call(this),this.openPanelFinish.call(this))}this.trigger("openPanel:after",i)}},closePanel:function(t){this.trigger("closePanel:before",t);var n=t.parent();n.hasClass(e.vertical)&&(n.removeClass(e.opened),this.trigger("closePanel",t)),this.trigger("closePanel:after",t)},closeAllPanels:function(t){this.trigger("closeAllPanels:before"),this.$pnls.find("."+e.listview).children().removeClass(e.selected).filter("."+e.vertical).removeClass(e.opened);var n=this.$pnls.children("."+e.panel),i=t&&t.length?t:n.first();this.$pnls.children("."+e.panel).not(i).removeClass(e.subopened).removeClass(e.opened).removeClass(e.highest).addClass(e.hidden),this.openPanel(i,!1),this.trigger("closeAllPanels:after")},togglePanel:function(t){var n=t.parent();n.hasClass(e.vertical)&&this[n.hasClass(e.opened)?"closePanel":"openPanel"](t)},setSelected:function(t){this.trigger("setSelected:before",t),this.$menu.find("."+e.listview).children("."+e.selected).removeClass(e.selected),t.addClass(e.selected),this.trigger("setSelected:after",t)},bind:function(t,e){this.cbck[t]=this.cbck[t]||[],this.cbck[t].push(e)},trigger:function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(this.cbck[e])for(var n=0,i=this.cbck[e].length;n<i;n++)this.cbck[e][n].apply(this,t)},matchMedia:function(t,e,n){var i={yes:e,no:n};this.mtch[t]=this.mtch[t]||[],this.mtch[t].push(i)},_initAddons:function(){var e;this.trigger("initAddons:before");for(e in t[o].addons)t[o].addons[e].add.call(this),t[o].addons[e].add=function(){};for(e in t[o].addons)t[o].addons[e].setup.call(this);this.trigger("initAddons:after")},_initExtensions:function(){this.trigger("initExtensions:before");var t=this;this.opts.extensions.constructor===Array&&(this.opts.extensions={all:this.opts.extensions});for(var e in this.opts.extensions)this.opts.extensions[e]=this.opts.extensions[e].length?"mm-"+this.opts.extensions[e].join(" mm-"):"",this.opts.extensions[e]&&function(e){t.matchMedia(e,function(){this.$menu.addClass(this.opts.extensions[e])},function(){this.$menu.removeClass(this.opts.extensions[e])})}(e);this.trigger("initExtensions:after")},_initMenu:function(){this.trigger("initMenu:before"),this.conf.clone&&(this.$orig=this.$menu,this.$menu=this.$orig.clone(),this.$menu.add(this.$menu.find("[id]")).filter("[id]").each(function(){t(this).attr("id",e.mm(t(this).attr("id")))})),this.opts.initMenu.call(this,this.$menu,this.$orig),this.$menu.attr("id",this.$menu.attr("id")||this.__getUniqueId()),this.$pnls=t('<div class="'+e.panels+'" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu);var n=[e.menu];this.opts.slidingSubmenus||n.push(e.vertical),this.$menu.addClass(n.join(" ")).parent().addClass(e.wrapper),this.trigger("initMenu:after")},_initPanels:function(n){this.trigger("initPanels:before",n),n=n||this.$pnls.children(this.conf.panelNodetype);var i=t(),s=this,a=function(n){n.filter(this.conf.panelNodetype).each(function(){var n=s._initPanel(t(this));if(n){s._initNavbar(n),s._initListview(n),i=i.add(n);var o=n.children("."+e.listview).children("li").children(s.conf.panelNodeType).add(n.children("."+s.conf.classNames.panel));o.length&&a.call(s,o)}})};a.call(this,n),this.opts.initPanels.call(this,i),this.trigger("initPanels:after",i)},_initPanel:function(t){if(this.trigger("initPanel:before",t),t.hasClass(e.panel))return t;if(this.__refactorClass(t,this.conf.classNames.panel,"panel"),this.__refactorClass(t,this.conf.classNames.nopanel,"nopanel"),this.__refactorClass(t,this.conf.classNames.vertical,"vertical"),this.__refactorClass(t,this.conf.classNames.inset,"inset"),t.filter("."+e.inset).addClass(e.nopanel),t.hasClass(e.nopanel))return!1;var i=t.hasClass(e.vertical)||!this.opts.slidingSubmenus;t.removeClass(e.vertical);var s=t.attr("id")||this.__getUniqueId();t.removeAttr("id"),t.is("ul, ol")&&(t.wrap("<div />"),t=t.parent()),t.addClass(e.panel+" "+e.hidden).attr("id",s);var a=t.parent("li");return i?t.add(a).addClass(e.vertical):t.appendTo(this.$pnls),a.length&&(a.data(n.child,t),t.data(n.parent,a)),this.trigger("initPanel:after",t),t},_initNavbar:function(i){if(this.trigger("initNavbar:before",i),!i.children("."+e.navbar).length){var s=i.data(n.parent),a=t('<div class="'+e.navbar+'" />'),r=t[o].i18n(this.opts.navbar.title),l="";if(s&&s.length){if(s.hasClass(e.vertical))return;if(s.parent().is("."+e.listview))var d=s.children("a, span").not("."+e.next);else d=s.closest("."+e.panel).find('a[href="#'+i.attr("id")+'"]');var c=(s=(d=d.first()).closest("."+e.panel)).attr("id");switch(r=d.text(),this.opts.navbar.titleLink){case"anchor":l=d.attr("href");break;case"parent":l="#"+c}a.append('<a class="'+e.btn+" "+e.prev+'" href="#'+c+'" />')}else if(!this.opts.navbar.title)return;this.opts.navbar.add&&i.addClass(e.hasnavbar),a.append('<a class="'+e.title+'"'+(l.length?' href="'+l+'"':"")+">"+r+"</a>").prependTo(i),this.trigger("initNavbar:after",i)}},_initListview:function(i){this.trigger("initListview:before",i);var s=this.__childAddBack(i,"ul, ol");this.__refactorClass(s,this.conf.classNames.nolistview,"nolistview"),s.filter("."+this.conf.classNames.inset).addClass(e.nolistview);var a=s.not("."+e.nolistview).addClass(e.listview).children();this.__refactorClass(a,this.conf.classNames.selected,"selected"),this.__refactorClass(a,this.conf.classNames.divider,"divider"),this.__refactorClass(a,this.conf.classNames.spacer,"spacer");var o=i.data(n.parent);if(o&&o.parent().is("."+e.listview)&&!o.children("."+e.next).length){var r=o.children("a, span").first(),l=t('<a class="'+e.next+'" href="#'+i.attr("id")+'" />').insertBefore(r);r.is("span")&&l.addClass(e.fullsubopen)}this.trigger("initListview:after",i)},_initOpened:function(){this.trigger("initOpened:before");var t=this.$pnls.find("."+e.listview).children("."+e.selected).removeClass(e.selected).last().addClass(e.selected),n=t.length?t.closest("."+e.panel):this.$pnls.children("."+e.panel).first();this.openPanel(n,!1),this.trigger("initOpened:after")},_initAnchors:function(){var n=this;s.$body.on(i.click+"-oncanvas","a[href]",function(i){var s=t(this),a=!1,r=n.$menu.find(s).length;for(var l in t[o].addons)if(t[o].addons[l].clickAnchor.call(n,s,r)){a=!0;break}var d=s.attr("href");if(!a&&r&&d.length>1&&"#"==d.slice(0,1))try{var c=t(d,n.$menu);c.is("."+e.panel)&&(a=!0,n[s.parent().hasClass(e.vertical)?"togglePanel":"openPanel"](c))}catch(t){}if(a&&i.preventDefault(),!a&&r&&s.is("."+e.listview+" > li > a")&&!s.is('[rel="external"]')&&!s.is('[target="_blank"]')){n.__valueOrFn(n.opts.onClick.setSelected,s)&&n.setSelected(t(i.target).parent());var h=n.__valueOrFn(n.opts.onClick.preventDefault,s,"#"==d.slice(0,1));h&&i.preventDefault(),n.__valueOrFn(n.opts.onClick.close,s,h)&&n.opts.offCanvas&&"function"==typeof n.close&&n.close()}})},_initMatchMedia:function(){var t=this;this._fireMatchMedia(),s.$wndw.on(i.resize,function(e){t._fireMatchMedia()})},_fireMatchMedia:function(){for(var t in this.mtch)for(var e=window.matchMedia&&window.matchMedia(t).matches?"yes":"no",n=0;n<this.mtch[t].length;n++)this.mtch[t][n][e].call(this)},_getOriginalMenuId:function(){var t=this.$menu.attr("id");return this.conf.clone&&t&&t.length&&(t=e.umm(t)),t},__api:function(){var e=this,n={};return t.each(this._api,function(t){var i=this;n[i]=function(){var t=e[i].apply(e,arguments);return void 0===t?n:t}}),n},__valueOrFn:function(t,e,n){return"function"==typeof t?t.call(e[0]):void 0===t&&void 0!==n?n:t},__refactorClass:function(t,n,i){return t.filter("."+n).removeClass(n).addClass(e[i])},__findAddBack:function(t,e){return t.find(e).add(t.filter(e))},__childAddBack:function(t,e){return t.children(e).add(t.filter(e))},__filterListItems:function(t){return t.not("."+e.divider).not("."+e.hidden)},__filterListItemAnchors:function(t){return this.__filterListItems(t).children("a").not("."+e.next)},__transitionend:function(t,e,n){var s=!1,a=function(n){void 0!==n&&n.target!=t[0]||(s||(t.off(i.transitionend),t.off(i.webkitTransitionEnd),e.call(t[0])),s=!0)};t.on(i.transitionend,a),t.on(i.webkitTransitionEnd,a),setTimeout(a,1.1*n)},__getUniqueId:function(){return e.mm(t[o].uniqueId++)}},t.fn[o]=function(a,r){t[o].glbl||(s={$wndw:t(window),$docu:t(document),$html:t("html"),$body:t("body")},e={},n={},i={},t.each([e,n,i],function(t,e){e.add=function(t){for(var n=0,i=(t=t.split(" ")).length;n<i;n++)e[t[n]]=e.mm(t[n])}}),e.mm=function(t){return"mm-"+t},e.add("wrapper menu panels panel nopanel highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen noanimation"),e.umm=function(t){return"mm-"==t.slice(0,3)&&(t=t.slice(3)),t},n.mm=function(t){return"mm-"+t},n.add("parent child"),i.mm=function(t){return t+".mm"},i.add("transitionend webkitTransitionEnd click scroll resize keydown mousedown mouseup touchstart touchmove touchend orientationchange"),t[o]._c=e,t[o]._d=n,t[o]._e=i,t[o].glbl=s),a=t.extend(!0,{},t[o].defaults,a),r=t.extend(!0,{},t[o].configuration,r);var l=t();return this.each(function(){var e=t(this);if(!e.data(o)){var n=new t[o](e,a,r);n.$menu.data(o,n.__api()),l=l.add(n.$menu)}}),l},t[o].i18n=(a={},function(e){switch(typeof e){case"object":return t.extend(a,e),a;case"string":return a[e]||e;case"undefined":default:return a}}),t[o].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints||!1,csstransitions:"undefined"==typeof Modernizr||void 0===Modernizr.csstransitions||Modernizr.csstransitions,csstransforms:"undefined"==typeof Modernizr||void 0===Modernizr.csstransforms||Modernizr.csstransforms,csstransforms3d:"undefined"==typeof Modernizr||void 0===Modernizr.csstransforms3d||Modernizr.csstransforms3d})}(t),_="offCanvas",(f=t)[m="mmenu"].addons[_]={setup:function(){if(this.opts[_]){var t=this,e=this.opts[_],n=this.conf[_];g=f[m].glbl,this._api=f.merge(this._api,["open","close","setPage"]),"object"!=typeof e&&(e={}),"top"!=e.position&&"bottom"!=e.position||(e.zposition="front"),e=this.opts[_]=f.extend(!0,{},f[m].defaults[_],e),"string"!=typeof n.pageSelector&&(n.pageSelector="> "+n.pageNodetype),this.vars.opened=!1;var i=[p.offcanvas];"left"!=e.position&&i.push(p.mm(e.position)),"back"!=e.zposition&&i.push(p.mm(e.zposition)),f[m].support.csstransforms||i.push(p["no-csstransforms"]),f[m].support.csstransforms3d||i.push(p["no-csstransforms3d"]),this.bind("initMenu:after",function(){var t=this;this.setPage(g.$page),this._initBlocker(),this["_initWindow_"+_](),this.$menu.addClass(i.join(" ")).parent("."+p.wrapper).removeClass(p.wrapper),this.$menu[n.menuInsertMethod](n.menuInsertSelector);var e=window.location.hash;if(e){var s=this._getOriginalMenuId();s&&s==e.slice(1)&&setTimeout(function(){t.open()},1e3)}}),this.bind("initExtensions:after",function(){for(var e=[p.mm("widescreen"),p.mm("iconbar")],n=0;n<e.length;n++)for(var i in this.opts.extensions)if(this.opts.extensions[i].indexOf(e[n])>-1){!function(n,i){t.matchMedia(n,function(){g.$html.addClass(e[i])},function(){g.$html.removeClass(e[i])})}(i,n);break}}),this.bind("open:start:sr-aria",function(){this.__sr_aria(this.$menu,"hidden",!1)}),this.bind("close:finish:sr-aria",function(){this.__sr_aria(this.$menu,"hidden",!0)}),this.bind("initMenu:after:sr-aria",function(){this.__sr_aria(this.$menu,"hidden",!0)})}},add:function(){p=f[m]._c,u=f[m]._d,v=f[m]._e,p.add("offcanvas slideout blocking modal background opening blocker page no-csstransforms3d"),u.add("style")},clickAnchor:function(t,e){var n=this;if(this.opts[_]){var i=this._getOriginalMenuId();if(i&&t.is('[href="#'+i+'"]')){if(e)return!0;var s=t.closest("."+p.menu);if(s.length){var a=s.data("mmenu");if(a&&a.close)return a.close(),n.__transitionend(s,function(){n.open()},n.conf.transitionDuration),!0}return this.open(),!0}if(g.$page)return i=g.$page.first().attr("id"),i&&t.is('[href="#'+i+'"]')?(this.close(),!0):void 0}}},f[m].defaults[_]={position:"left",zposition:"back",blockUI:!0,moveBackground:!0},f[m].configuration[_]={pageNodetype:"div",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuInsertMethod:"prependTo",menuInsertSelector:"body"},f[m].prototype.open=function(){if(this.trigger("open:before"),!this.vars.opened){var t=this;this._openSetup(),setTimeout(function(){t._openFinish()},this.conf.openingInterval),this.trigger("open:after")}},f[m].prototype._openSetup=function(){var t=this,e=this.opts[_];this.closeAllOthers(),g.$page.each(function(){f(this).data(u.style,f(this).attr("style")||"")}),g.$wndw.trigger(v.resize+"-"+_,[!0]);var n=[p.opened];e.blockUI&&n.push(p.blocking),"modal"==e.blockUI&&n.push(p.modal),e.moveBackground&&n.push(p.background),"left"!=e.position&&n.push(p.mm(this.opts[_].position)),"back"!=e.zposition&&n.push(p.mm(this.opts[_].zposition)),g.$html.addClass(n.join(" ")),setTimeout(function(){t.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(p.opened)},f[m].prototype._openFinish=function(){var t=this;this.__transitionend(g.$page.first(),function(){t.trigger("open:finish")},this.conf.transitionDuration),this.trigger("open:start"),g.$html.addClass(p.opening)},f[m].prototype.close=function(){if(this.trigger("close:before"),this.vars.opened){var t=this;this.__transitionend(g.$page.first(),function(){t.$menu.removeClass(p.opened);var e=[p.opened,p.blocking,p.modal,p.background,p.mm(t.opts[_].position),p.mm(t.opts[_].zposition)];g.$html.removeClass(e.join(" ")),g.$page.each(function(){f(this).attr("style",f(this).data(u.style))}),t.vars.opened=!1,t.trigger("close:finish")},this.conf.transitionDuration),this.trigger("close:start"),g.$html.removeClass(p.opening),this.trigger("close:after")}},f[m].prototype.closeAllOthers=function(){g.$body.find("."+p.menu+"."+p.offcanvas).not(this.$menu).each(function(){var t=f(this).data(m);t&&t.close&&t.close()})},f[m].prototype.setPage=function(t){this.trigger("setPage:before",t);var e=this,n=this.conf[_];t&&t.length||(t=g.$body.find(n.pageSelector),n.noPageSelector.length&&(t=t.not(n.noPageSelector.join(", "))),t.length>1&&n.wrapPageIfNeeded&&(t=t.wrapAll("<"+this.conf[_].pageNodetype+" />").parent())),t.each(function(){f(this).attr("id",f(this).attr("id")||e.__getUniqueId())}),t.addClass(p.page+" "+p.slideout),g.$page=t,this.trigger("setPage:after",t)},f[m].prototype["_initWindow_"+_]=function(){g.$wndw.off(v.keydown+"-"+_).on(v.keydown+"-"+_,function(t){if(g.$html.hasClass(p.opened)&&9==t.keyCode)return t.preventDefault(),!1});var t=0;g.$wndw.off(v.resize+"-"+_).on(v.resize+"-"+_,function(e,n){if(1==g.$page.length&&(n||g.$html.hasClass(p.opened))){var i=g.$wndw.height();(n||i!=t)&&(t=i,g.$page.css("minHeight",i))}})},f[m].prototype._initBlocker=function(){var t=this;this.opts[_].blockUI&&(g.$blck||(g.$blck=f('<div id="'+p.blocker+'" class="'+p.slideout+'" />')),g.$blck.appendTo(g.$body).off(v.touchstart+"-"+_+" "+v.touchmove+"-"+_).on(v.touchstart+"-"+_+" "+v.touchmove+"-"+_,function(t){t.preventDefault(),t.stopPropagation(),g.$blck.trigger(v.mousedown+"-"+_)}).off(v.mousedown+"-"+_).on(v.mousedown+"-"+_,function(e){e.preventDefault(),g.$html.hasClass(p.modal)||(t.closeAllOthers(),t.close())}))},h="scrollBugFix",(o=t)[c="mmenu"].addons[h]={setup:function(){var t=this.opts[h];this.conf[h],d=o[c].glbl,o[c].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&("boolean"==typeof t&&(t={fix:t}),"object"!=typeof t&&(t={}),(t=this.opts[h]=o.extend(!0,{},o[c].defaults[h],t)).fix&&(this.bind("open:start",function(){this.$pnls.children("."+r.opened).scrollTop(0)}),this.bind("initMenu:after",function(){this["_initWindow_"+h]()})))},add:function(){r=o[c]._c,o[c]._d,l=o[c]._e},clickAnchor:function(t,e){}},o[c].defaults[h]={fix:!0},o[c].prototype["_initWindow_"+h]=function(){var t=this;d.$docu.off(l.touchmove+"-"+h).on(l.touchmove+"-"+h,function(t){d.$html.hasClass(r.opened)&&t.preventDefault()});var e=!1;d.$body.off(l.touchstart+"-"+h).on(l.touchstart+"-"+h,"."+r.panels+"> ."+r.panel,function(t){d.$html.hasClass(r.opened)&&(e||(e=!0,0===t.currentTarget.scrollTop?t.currentTarget.scrollTop=1:t.currentTarget.scrollHeight===t.currentTarget.scrollTop+t.currentTarget.offsetHeight&&(t.currentTarget.scrollTop-=1),e=!1))}).off(l.touchmove+"-"+h).on(l.touchmove+"-"+h,"."+r.panels+"> ."+r.panel,function(t){d.$html.hasClass(r.opened)&&o(this)[0].scrollHeight>o(this).innerHeight()&&t.stopPropagation()}),d.$wndw.off(l.orientationchange+"-"+h).on(l.orientationchange+"-"+h,function(){t.$pnls.children("."+r.opened).scrollTop(0).css({"-webkit-overflow-scrolling":"auto"}).css({"-webkit-overflow-scrolling":"touch"})})},a="screenReader",(e=t)[s="mmenu"].addons[a]={setup:function(){var t=this,o=this.opts[a],r=this.conf[a];e[s].glbl,"boolean"==typeof o&&(o={aria:o,text:o}),"object"!=typeof o&&(o={}),(o=this.opts[a]=e.extend(!0,{},e[s].defaults[a],o)).aria&&(this.bind("initAddons:after",function(){this.bind("initMenu:after",function(){this.trigger("initMenu:after:sr-aria")}),this.bind("initNavbar:after",function(){this.trigger("initNavbar:after:sr-aria",arguments[0])}),this.bind("openPanel:start",function(){this.trigger("openPanel:start:sr-aria",arguments[0])}),this.bind("close:start",function(){this.trigger("close:start:sr-aria")}),this.bind("close:finish",function(){this.trigger("close:finish:sr-aria")}),this.bind("open:start",function(){this.trigger("open:start:sr-aria")}),this.bind("open:finish",function(){this.trigger("open:finish:sr-aria")})}),this.bind("updateListview",function(){this.$pnls.find("."+n.listview).children().each(function(){t.__sr_aria(e(this),"hidden",e(this).is("."+n.hidden))})}),this.bind("openPanel:start",function(t){var e=this.$menu.find("."+n.panel).not(t).not(t.parents("."+n.panel)),i=t.add(t.find("."+n.vertical+"."+n.opened).children("."+n.panel));this.__sr_aria(e,"hidden",!0),this.__sr_aria(i,"hidden",!1)}),this.bind("closePanel",function(t){this.__sr_aria(t,"hidden",!0)}),this.bind("initPanels:after",function(i){var s=i.find("."+n.prev+", ."+n.next).each(function(){t.__sr_aria(e(this),"owns",e(this).attr("href").replace("#",""))});this.__sr_aria(s,"haspopup",!0)}),this.bind("initNavbar:after",function(t){var e=t.children("."+n.navbar);this.__sr_aria(e,"hidden",!t.hasClass(n.hasnavbar))}),o.text&&(this.bind("initlistview:after",function(t){var e=t.find("."+n.listview).find("."+n.fullsubopen).parent().children("span");this.__sr_aria(e,"hidden",!0)}),"parent"==this.opts.navbar.titleLink&&this.bind("initNavbar:after",function(t){var e=t.children("."+n.navbar),i=!!e.children("."+n.prev).length;this.__sr_aria(e.children("."+n.title),"hidden",i)}))),o.text&&(this.bind("initAddons:after",function(){this.bind("setPage:after",function(){this.trigger("setPage:after:sr-text",arguments[0])})}),this.bind("initNavbar:after",function(t){var i=t.children("."+n.navbar),a=i.children("."+n.title).text(),o=e[s].i18n(r.text.closeSubmenu);a&&(o+=" ("+a+")"),i.children("."+n.prev).html(this.__sr_text(o))}),this.bind("initListview:after",function(a){var o=a.data(i.parent);if(o&&o.length){var l=o.children("."+n.next),d=l.nextAll("span, a").first().text(),c=e[s].i18n(r.text[l.parent().is("."+n.vertical)?"toggleSubmenu":"openSubmenu"]);d&&(c+=" ("+d+")"),l.html(t.__sr_text(c))}}))},add:function(){n=e[s]._c,i=e[s]._d,e[s]._e,n.add("sronly")},clickAnchor:function(t,e){}},e[s].defaults[a]={aria:!0,text:!0},e[s].configuration[a]={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}},e[s].prototype.__sr_aria=function(t,e,n){t.prop("aria-"+e,n)[n?"attr":"removeAttr"]("aria-"+e,n)},e[s].prototype.__sr_text=function(t){return'<span class="'+n.sronly+'">'+t+"</span>"},!0}),function(t){var e,n,i="mmenu",s="counters";t[i].addons[s]={setup:function(){var a=this,o=this.opts[s];if(this.conf[s],t[i].glbl,"boolean"==typeof o&&(o={add:o,update:o}),"object"!=typeof o&&(o={}),o=this.opts[s]=t.extend(!0,{},t[i].defaults[s],o),this.bind("initListview:after",function(e){this.__refactorClass(t("em",e),this.conf.classNames[s].counter,"counter")}),o.add&&this.bind("initListview:after",function(i){var s;switch(o.addTo){case"panels":s=i;break;default:s=i.filter(o.addTo)}s.each(function(){var i=t(this).data(n.parent);i&&(i.children("em."+e.counter).length||i.prepend(t('<em class="'+e.counter+'" />')))})}),o.update){var r=function(i){(i=i||this.$pnls.children("."+e.panel)).each(function(){var i=t(this),s=i.data(n.parent);if(s){var o=s.children("em."+e.counter);o.length&&((i=i.children("."+e.listview)).length&&o.html(a.__filterListItems(i.children()).length))}})};this.bind("initListview:after",r),this.bind("updateListview",r)}},add:function(){e=t[i]._c,n=t[i]._d,t[i]._e,e.add("counter search noresultsmsg")},clickAnchor:function(t,e){}},t[i].defaults[s]={add:!1,addTo:"panels",count:!1},t[i].configuration.classNames[s]={counter:"Counter"}}(jQuery);